
    <style type="text/css">
    @keyframes ldio-dszxyxoeccv {
      0% { opacity: 1 }
      50% { opacity: .5 }
      100% { opacity: 1 }
    }
    .ldio-dszxyxoeccv div {
      position: absolute;
      width: 20px;
      height: 80px;
      top: 60px;
      animation: ldio-dszxyxoeccv 1s cubic-bezier(0.5,0,0.5,1) infinite;
    }.ldio-dszxyxoeccv div:nth-child(1) {
      transform: translate(30px,0);
      background: #0051a2;
      animation-delay: -0.6s;
    }.ldio-dszxyxoeccv div:nth-child(2) {
      transform: translate(70px,0);
      background: #1b75be;
      animation-delay: -0.4s;
    }.ldio-dszxyxoeccv div:nth-child(3) {
      transform: translate(110px,0);
      background: #408ee0;
      animation-delay: -0.2s;
    }.ldio-dszxyxoeccv div:nth-child(4) {
      transform: translate(150px,0);
      background: #89bff8;
      animation-delay: -1s;
    }
    .loadingio-spinner-bars-kq554dqtxpf {
      width: 200px;
      height: 200px;
      display: inline-block;
      overflow: hidden;
      background: none;
    }
    .ldio-dszxyxoeccv {
      width: 100%;
      height: 100%;
      position: relative;
      transform: translateZ(0) scale(1);
      backface-visibility: hidden;
      transform-origin: 0 0; /* see note above */
    }
    .ldio-dszxyxoeccv div { box-sizing: content-box; }
    /* generated by https://loading.io/ */
    </style>

<div class="modal fade" data-bs-backdrop="static" tabindex="-1" id="loader">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content bg-transparent border-0">
        <div class="d-flex flex-column align-items-center justify-content-center"  >
            <div class="loadingio-spinner-bars-kq554dqtxpf"><div class="ldio-dszxyxoeccv">
                <div></div><div></div><div></div><div></div>
                </div></div>
                <h4 class="text-white text-center">Cargando el contenido...</h4>
                <a href="" class=" link-light" onclick="window.stop()">cancelar</a>       
        </div>
      </div>
    </div>
  </div>
  <script>
    document.getElementById('loader').addEventListener('show.bs.modal', event => {

      const verifyCourse = async (courseId) => {
        
        try {
          let response = await fetch('/users/verifycourse/' + courseId);
          let result = await response.json();
          window.location.href = result.ok && result.url;

        } catch (error) {
          console.error
        }
      }

      verifyCourse('<%=id%>')
    })
    document.body.addEventListener('keydown', (e) => {
        if(e.key === 'Escape'){
            window.stop()
        }
    })
  </script>
  